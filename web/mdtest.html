<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>demo</title>
		<link href="styles/obsidian.css" rel="stylesheet" />
		<style type="text/css">
			body {}
		</style>
	</head>
	<body>
		<div class="box" id="box"></div>
	</body>
<script src="lib/requirejs/require.js"></script>
<script src="marked.js"></script>
<script>
require(['lib/highlight.js/build/highlight.pack'], function(hljs) {
	var markedOpts = {
		gfm: true,
		highlight: function (code, lang) {
			console.log(lang);
			if(lang) {
				return hljs.highlight(lang, code).value;
			}
			return hljs.highlightAuto(code).value;
		},
		tables: true,
		breaks: false,
		pedantic: false,
		sanitize: true,
		smartLists: true,
		smartypants: false,
		langPrefix: 'lang-'
	};

	marked("#### javascript\
``` javascript\
function foo() {\
	console.log('foo');\
}\
```", function(err, str) {
	console.log('result', err, str);
	if(!err) {
		document.getElementById('box').innerHTML = str;
	}
});
});
</script>
</html>