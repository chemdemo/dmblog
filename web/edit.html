<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="keywords" content="blog" />
	<meta name="description" content="blog" />
	<meta name="author" content="yangdemo@gmail.com" />
	<meta name="copyright" content="chemdemo" />
	<meta name="application-name" content="blog" />
	<meta name="viewport" content="minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, width=device-width, user-scalable=no">
	<title>blog editor</title>
	<link rel="shortcut icon" href="favicon.ico" />
	<link rel="stylesheet" href="style/web_font_icon.css" />
	<link rel="stylesheet" href="style/edit.css" />
</head>

<body>
	<div class="editor-wrapper">
		<div class="editor-ctrl">
			<a href="" class="icon-download import-doc" title="导入"></a>
			<a href="" class="icon-upload export-doc" title="导出"></a>
			<label for="editor-theme">选择编辑器主题：</label>
			<select class="editor-theme" id="editor-theme">
				<option value="ambiance">ambiance</option>
				<option value="chaos">chaos</option>
				<option value="chrome">chrome</option>
				<option value="clouds">clouds</option>
				<option value="clouds_midnight">clouds_midnight</option>
			</select>
			<a href="" class="icon-disk save-doc" title="保存"></a>
		</div>

		<div class="editor-body clearfix">
			<div class="editor-box" id="editor-box" style="font-size: 16px; font-family: Consolas 'Microsoft Yahei';"></div>

			<div class="ctrl-line" id="ctrl-line"></div>

			<div class="preview-box" id="preview-box"></div>
		</div>
	</div>
</body>
<!-- <script src="lib/requirejs/require.js"></script> -->
<script src="lib/ace-builds/src/ace.js"></script>
<script>
onload = function() {
	var editor = ace.edit('editor-box');
	editor.setShowPrintMargin(false);
	/*editor.getSession().on('change', function(e) {
		console.log('change');
	});
	editor.getSession().selection.on('changeSelection', function(e) {
		console.log('changeSelection');
	});
	editor.getSession().selection.on('changeCursor', function(e) {
		console.log('changeCursor');
	});*/
	console.log(window.editor = editor)
	editor.setTheme('ace/theme/monokai');
	editor.getSession().setMode('ace/mode/markdown');

	var flag = 0;
	var lineCtrl = document.querySelector('#ctrl-line');
	var editorBox = document.querySelector('#editor-box');
	var previewBox = document.querySelector('#preview-box');

	lineCtrl.addEventListener('mousedown', function(e) {
		flag = 1;
	});
	lineCtrl.addEventListener('mouseup', function(e) {
		flag = 0;
	});
	document.body.addEventListener('mousemove', function(e) {
		console.log(e);
	});
}
</script>
</html>